services:

  minio_container:
    image: quay.io/minio/minio
    command: server /data --console-address ":9001"
    expose:
      - "9000"
      - "9001"
    ports:
      - "9000:9000"
      - "9001:9001"
    volumes:
      - /home/aiandrejcev/minio/data:/data 
    env_file:
      - ~/.minio_env_variables.list 

  pgdatabase:
    image: postgres:13
    env_file:
      - .env
    volumes:
      - "/home/aiandrejcev/postgres_docker/data:/var/lib/postgresql/data:rw"
    ports:
      - "5432:5432"

  pgadmin:
    image: dpage/pgadmin4
    env_file:
      - .env
    ports:
      - "8080:80"
        
  mage_ai_container:
    image: mageai/mageai:latest
    ports:
      - "6789:6789"
    volumes:
      - "/home/aiandrejcev/ufc:/home/src"
    command: /app/run_app.sh mage start demo_project
    
